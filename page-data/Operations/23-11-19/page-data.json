{"componentChunkName":"component---src-templates-post-js","path":"/Operations/23-11-19/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>데이터 기반의 의사결정을 하거나 AI 알고리즘/rule을 서비스에 추가하기 위해서, 여러 다양한 데이터를 가공하고 DB에 넣고 querying 할 필요가 있습니다. 본 포스팅에서는 이와 관련된 vector DB 사용법 부터 기본적인 SQL query 문, 시각화 방법 등을 기록합니다.</p>\n</blockquote>\n<h3 id=\"qdrant\" style=\"position:relative;\"><a href=\"#qdrant\" aria-label=\"qdrant permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Qdrant</h3>\n<ul>\n<li>Qdrant는 vector DB로 보기보다는 vector search engine으로 봐야 함</li>\n<li>Qdrant <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>→</mo></mrow><annotation encoding=\"application/x-tex\">\\to</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">→</span></span></span></span> Collection <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>→</mo></mrow><annotation encoding=\"application/x-tex\">\\to</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">→</span></span></span></span> Shard <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>→</mo></mrow><annotation encoding=\"application/x-tex\">\\to</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">→</span></span></span></span> Segment. 이 부분은 다른 search engine 들과 비교해보면 좋을듯</li>\n<li>Collections: points(vectors with a payload)의 집합</li>\n<li>Points: vector와 payload(optional)로 구성</li>\n<li>Payload: vector와 함께 저장 가능한 추가 정보</li>\n<li>Search: 기본적으로 dot, cos, euc similarity search 제공</li>\n<li>Index: 필터링 속도 향상을 위한 payload index와 vector search 속도 향상을 위한 vector index 존재</li>\n</ul>\n<h5 id=\"vector-search-with-hnsw\" style=\"position:relative;\"><a href=\"#vector-search-with-hnsw\" aria-label=\"vector search with hnsw permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vector Search with HNSW</h5>\n<p>HNSW는 벡터 검색 알고리즘 중 하나인데 qdrant의 작동을 이해하기 위해 중요합니다. NHN Forward <a href=\"https://www.youtube.com/watch?v=hCqF4tDPNBw\">발표</a>에서도 잘 설명해주고 있어 이를 참고 하였습니다.</p>\n<ul>\n<li>k-Nearest Neighbor: 검색 대상 벡터와 모든 벡터와의 거리를 계산하여 가장 가까운 k개를 리턴하는 방식</li>\n<li>Approximate Nearest Neighbor (e.g., ANNOY): Spotify에서 개발한 tree-based ANN 기법으로 정확도를 조금 줄이는 대신 검색 속도를 높임. 전체 벡터를 여러 공간으로 분할하여 tree 형태의 자료구조 만들어 검색 수행. 데이터 들어올 때 마다 자료구조 다시 만들어야 해서 데이터 추가시 빌드 비용 높음</li>\n<li>\n<p>Hierarchical Navigable Small World: <a href=\"https://en.wikipedia.org/wiki/Skip_list\">Skip-list</a>와 Navigable small world 개념에 영향을 받은 방식</p>\n<ul>\n<li>아래 이미지의 오른쪽을 보면 이해가 쉬운데, 초록색 query에 대해서 빨간색 start point 부터 검색을 시작할 때, 한 번 nearest neighbor을 찾을 때 마다 깊은 layer로 내려간다고 생각하면 됨 (greedy search)</li>\n<li>데이터 추가가 쉽고, 데이터 경향성에 따라 성능 차이 있음. 클러스링 데이터 대해 응답속도 빠르고 재현율도 높음</li>\n</ul>\n</li>\n<li>HNSW challenges: (1) 여전히 데이터 index 빌드 타임 소요 (2) 100% 정확도/재현율 보장하지 않음 (3) Sequetial read pattern을 가져서 병렬화 불가능. Qdrant는 이런 점들 보완하기 위해 quatization &#x26; oversampling 활용</li>\n<li>Filterable HNSW(payload-based refinement): post-filtering, pre-filtering이 비효율적이기 때문에 in-place filtering 방식으로 구현</li>\n</ul>\n<center><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 760px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/23da7cbc822bf7d4d1992fc8e7db210c/eb1d2/23-11-19-1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 32.10526315789474%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQY001Rba6CQAzkxp7Ec/hDE05B1B+IJpBoREVRJMDDx8qH7ALztjWa102TdtLMTLcGdOR5juv1ik+kaYrL5YK+77nvug5Zln37YRhQliWquoGUCkpJtG3LuPF4POA4DmzbZtK6rrmez+c4Ho96WMGyLJimifP5/CV8aQL5eqEtCihdJ0nCIobneQiCAM/nE6vVCr7vY7PZsOvFYsEk4/EYo9EIs9mMXRKhEAJF8c5Bv9vtxpgRRRHW6zW22y32+z0TLZdLuK6L3W7HqtPpFJPJhIWIjJJWFGWl53+huh73+/1NSCsQ6eFw4CEKUiOnTdNwX+i1TqcTr09BLoXG4ixHGP+wQBiGPGd8DiGl5KSDkFocx1wTRv9K+f8odIxa/2EmKkjVsRkS/AMvUME2OR/jSQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/23da7cbc822bf7d4d1992fc8e7db210c/15813/23-11-19-1.webp 190w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/1cdb2/23-11-19-1.webp 380w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/9046c/23-11-19-1.webp 760w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/c89f9/23-11-19-1.webp 1140w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/7afe4/23-11-19-1.webp 1520w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/b3a72/23-11-19-1.webp 1622w\" sizes=\"(max-width: 760px) 100vw, 760px\" type=\"image/webp\">\n          <source srcset=\"/static/23da7cbc822bf7d4d1992fc8e7db210c/a2d4f/23-11-19-1.png 190w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/3f520/23-11-19-1.png 380w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/3c051/23-11-19-1.png 760w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/b5cea/23-11-19-1.png 1140w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/891d5/23-11-19-1.png 1520w,\n/static/23da7cbc822bf7d4d1992fc8e7db210c/eb1d2/23-11-19-1.png 1622w\" sizes=\"(max-width: 760px) 100vw, 760px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/23da7cbc822bf7d4d1992fc8e7db210c/3c051/23-11-19-1.png\" alt=\"23 11 19 1\" title=\"23 11 19 1\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span><p><i>Taken From, Yury A. Malkov, et al.</i></p></center>\n<h5 id=\"python-qdrant-client\" style=\"position:relative;\"><a href=\"#python-qdrant-client\" aria-label=\"python qdrant client permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Python qdrant client</h5>\n<ol>\n<li>Client initialization</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> qdrant_client <span class=\"token keyword\">import</span> QdrantClient\n<span class=\"token keyword\">from</span> qdrant_client<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Distance<span class=\"token punctuation\">,</span> VectorParams<span class=\"token punctuation\">,</span> PointStruct\n<span class=\"token keyword\">from</span> qdrant_client<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Filter<span class=\"token punctuation\">,</span> FieldCondition<span class=\"token punctuation\">,</span> MatchValue\nclient <span class=\"token operator\">=</span> QdrantClient<span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">,</span> port<span class=\"token operator\">=</span><span class=\"token number\">6333</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ol start=\"2\">\n<li>Collection 생성</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">client<span class=\"token punctuation\">.</span>create_collection<span class=\"token punctuation\">(</span>\n    collection_name<span class=\"token operator\">=</span><span class=\"token string\">\"test_collection\"</span><span class=\"token punctuation\">,</span>\n    vectors_config<span class=\"token operator\">=</span>VectorParams<span class=\"token punctuation\">(</span>size<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> distance<span class=\"token operator\">=</span>Distance<span class=\"token punctuation\">.</span>DOT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<ol start=\"3\">\n<li>Vector 추가</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">operation_info <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>upsert<span class=\"token punctuation\">(</span>\n    collection_name<span class=\"token operator\">=</span><span class=\"token string\">\"test_collection\"</span><span class=\"token punctuation\">,</span>\n    wait<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>\n    points<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n        PointStruct<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> vector<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.05</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.61</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.76</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.74</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> payload<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"city\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Berlin\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        PointStruct<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> vector<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.19</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.81</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.75</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.11</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> payload<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"city\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"London\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        PointStruct<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> vector<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.36</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.55</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.47</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.94</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> payload<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"city\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Moscow\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<ol start=\"4\">\n<li>Query 실행</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># run a query without filter</span>\nsearch_result <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">(</span>\n    collection_name<span class=\"token operator\">=</span><span class=\"token string\">\"test_collection\"</span><span class=\"token punctuation\">,</span> query_vector<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> limit<span class=\"token operator\">=</span><span class=\"token number\">2</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># run a query with filter</span>\nsearch_result <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">(</span>\n    collection_name<span class=\"token operator\">=</span><span class=\"token string\">\"test_collection\"</span><span class=\"token punctuation\">,</span>\n    query_vector<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    query_filter<span class=\"token operator\">=</span>Filter<span class=\"token punctuation\">(</span>must<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>FieldCondition<span class=\"token punctuation\">(</span>key<span class=\"token operator\">=</span><span class=\"token string\">\"city\"</span><span class=\"token punctuation\">,</span> match<span class=\"token operator\">=</span>MatchValue<span class=\"token punctuation\">(</span>value<span class=\"token operator\">=</span><span class=\"token string\">\"London\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    limit<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"sql\" style=\"position:relative;\"><a href=\"#sql\" aria-label=\"sql permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL</h3>\n<h5 id=\"basics\" style=\"position:relative;\"><a href=\"#basics\" aria-label=\"basics permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Basics</h5>\n<ul>\n<li>Key: super key, candidate key, primary key, foreign key, composite key, alternate key</li>\n<li>Normalization: 1NF, 2NF, 3NF, BCNF</li>\n<li>Entity Relationship Diagram(ERC)를 그리기 위해 <a href=\"https://dbdiagram.io/home\">https://dbdiagram.io/home</a> 활용하면 좋음. 특히, 다대다 관계를 가진 경우에 junction(join) table을 만들어주면 좋음</li>\n<li>더 찾아볼 내용: Constraints, Referential integrity, etc...</li>\n</ul>\n<h5 id=\"pymysql\" style=\"position:relative;\"><a href=\"#pymysql\" aria-label=\"pymysql permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pymysql</h5>\n<h5 id=\"redshift\" style=\"position:relative;\"><a href=\"#redshift\" aria-label=\"redshift permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redshift</h5>\n<h5 id=\"redash\" style=\"position:relative;\"><a href=\"#redash\" aria-label=\"redash permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redash</h5>\n<h5 id=\"query-optimization\" style=\"position:relative;\"><a href=\"#query-optimization\" aria-label=\"query optimization permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Query Optimization</h5>\n<ul>\n<li>Tips: Query plan을 보면 쿼리가 어떻게 실행되고 있는지 확인 가능하여 어떤 부분 튜닝이 필요한지 파악할 수 있음</li>\n</ul>\n<h3 id=\"nosql\" style=\"position:relative;\"><a href=\"#nosql\" aria-label=\"nosql permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NoSQL</h3>\n<h5 id=\"pymongo\" style=\"position:relative;\"><a href=\"#pymongo\" aria-label=\"pymongo permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pymongo</h5>\n<h5 id=\"query-optimization-1\" style=\"position:relative;\"><a href=\"#query-optimization-1\" aria-label=\"query optimization 1 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Query Optimization</h5>\n<h3 id=\"references\" style=\"position:relative;\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h3>\n<ul>\n<li><a href=\"https://qdrant.tech/documentation/quick-start/\">https://qdrant.tech/documentation/quick-start/</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=lFMKUCNw5ac\">Qdrant: Getting Started with Qdrant</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=sNFmN16AM1o\">Qdrant: Image Classification with Qdrant Vector Semantic Search</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=lFMKUCNw5ac\">Qdrant: Open Source Vector Search Engine and Vector Database Andrey Vasnetsov</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=hCqF4tDPNBw\">[NHN FORWARD 22] 대충? 거의 정확하다! 벡터 검색 엔진에 ANN HNSW 알고리즘 도입기 (feat. SWIG Golang)</a></li>\n<li>Yury A. Malkov, et al. \"Efficient and robust approximate nearest neighbor search using Hierarchical Navigable Small World graphs\"</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#qdrant\">Qdrant</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#vector-search-with-hnsw\">Vector Search with HNSW</a></li>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#python-qdrant-client\">Python qdrant client</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#sql\">SQL</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#basics\">Basics</a></li>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#pymysql\">Pymysql</a></li>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#redshift\">Redshift</a></li>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#redash\">Redash</a></li>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#query-optimization\">Query Optimization</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#nosql\">NoSQL</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#pymongo\">Pymongo</a></li>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#query-optimization-1\">Query Optimization</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/MachineLearning/23-11-19-Using%20Databases%20as%20an%20AI%20Engineer/#references\">References</a></li>\n</ul>","frontmatter":{"path":"/Operations/23-11-19/","title":"Using Databases as an AI Engineer (feat. Qdrant)","category":"Operations","date":"2023-11-19"}}},"pageContext":{}},"staticQueryHashes":["2390655019","256249292","63159454"]}